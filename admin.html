<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ù‚Ø·Ø§Ø¹ Ø§Ù„ÙˆØ³Ø·</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&family=Rubik:wght@300;400;500;700&display=swap" rel="stylesheet">
<style>
  :root{
    --brand:#1E88E5; --brand2:#42A5F5;
    --text:#0d1b2a; --muted:#5c6b7a;
    --card:#ffffff; --border:#e6ebf3;
    --bg1:#ffffff; --bg2:#E3F2FD;
    --shadow:0 10px 24px rgba(30,136,229,.18);
    --ok:#0a7d32; --err:#c62828; --info:#1e88e5;
  }
  :root[data-theme="dark"]{
    --text:#e6edf5; --muted:#b9c4d0; --card:#111827; --border:#1f2937; --bg1:#0D1B2A; --bg2:#1B263B; --shadow:0 10px 28px rgba(17,24,39,.5);
  }
  *{box-sizing:border-box}
  body{margin:0;background:linear-gradient(135deg,var(--bg1),var(--bg2));color:var(--text);font-family:'Cairo',system-ui,Arial;transition:background .4s,color .4s}
  [data-theme="dark"] body{font-family:'Rubik',system-ui,Arial}
  header{display:flex;align-items:center;justify-content:center;gap:12px;padding:18px}
  .title{font-weight:800;font-size:22px;letter-spacing:.3px;animation:fadeDown .5s both}
  .tabs{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;animation:fadeUp .5s .2s both}
  .tab-btn{display:inline-flex;align-items:center;gap:6px;background:linear-gradient(135deg,var(--brand),var(--brand2));color:#fff;border:none;border-radius:12px;padding:10px 16px;cursor:pointer;box-shadow:0 10px 24px rgba(30,136,229,.35)}
  .tab-btn.active{transform:translateY(-2px)}
  .panel{display:none;margin-top:14px;background:var(--card);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);padding:16px}
  .panel.active{display:block}
  label{font-weight:700;margin:8px 0 4px;display:block}
  input[type=text], textarea{width:100%;padding:10px;border:1px solid var(--border);border-radius:10px;background:transparent;color:var(--text)}
  textarea{min-height:120px;resize:vertical}
  .btn{display:inline-flex;align-items:center;gap:6px;background:linear-gradient(135deg,var(--brand),var(--brand2));color:#fff;border:none;border-radius:12px;padding:10px 14px;cursor:pointer;box-shadow:0 10px 24px rgba(30,136,229,.35)}
  .toast{position:fixed;right:16px;top:16px;display:none;padding:10px 14px;border-radius:12px;color:#fff;box-shadow:var(--shadow)}
  .toast.ok{background:var(--ok)} .toast.err{background:var(--err)} .toast.info{background:var(--info)}
  #gate{position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center}
  #gate .box{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:18px;width:320px;box-shadow:var(--shadow)}
  .top-controls{position:fixed;right:16px;top:14px;display:flex;flex-direction:column;gap:10px;z-index:10}
  .theme-toggle{border:none;border-radius:999px;cursor:pointer;width:42px;height:42px;background:linear-gradient(180deg,var(--card),#f0f7ff);box-shadow:var(--shadow);display:grid;place-items:center;transition:transform .25s}
  .theme-toggle:hover{transform:scale(1.06)}
  .theme-label{font-weight:700;color:var(--muted)}
</style>
</head>
<body>
<div class="top-controls">
  <div style="display:flex;align-items:center;gap:8px;justify-content:flex-end">
    <button class="theme-toggle" id="themeBtn" title="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù†Ù…Ø·">ğŸŒ™</button>
    <div class="theme-label">ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù†Ù…Ø·</div>
  </div>
</div>

<header><div class="title">Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ù‚Ø·Ø§Ø¹ Ø§Ù„ÙˆØ³Ø·</div></header>

<div class="wrap" id="content" style="display:none">
  <div class="tabs">
    <button class="tab-btn active" onclick="openTab('ads', this)">Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</button>
    <button class="tab-btn" onclick="openTab('honor', this)">Ù„ÙˆØ­Ø© Ø§Ù„Ø´Ø±Ù</button>
    <button class="tab-btn" onclick="openTab('links', this)">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø·</button>
  </div>

  <section id="ads" class="panel active">
    <label for="adText">Ù†Øµ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</label>
    <textarea id="adText" placeholder="Ø§ÙƒØªØ¨ Ù†Øµ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù‡Ù†Ø§..."></textarea>
    <div style="margin-top:10px"><button class="btn" onclick="addAnnouncement()">Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button></div>
    <p style="color:var(--muted);margin-top:8px">* Ø³ÙŠØªÙ… Ø¹Ø±Ø¶Ù‡ ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø®Ù„Ø§Ù„ Ø¢Ø®Ø± Ù£ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª.</p>
  </section>

  <section id="honor" class="panel">
    <label for="centerName">Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙƒØ²</label>
    <input type="text" id="centerName" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø±ÙƒØ² Ø§Ù„ÙˆØ³Ø·">
    <label for="teamName">Ø§Ø³Ù… Ø§Ù„ÙØ±Ù‚Ø©</label>
    <input type="text" id="teamName" placeholder="Ù…Ø«Ø§Ù„: ÙØ±Ù‚Ø© Ø§Ù„ØµÙ‚ÙˆØ±">
    <label for="members">Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ (Ø³Ø·Ø± Ù„ÙƒÙ„ Ø§Ø³Ù…)</label>
    <textarea id="members" placeholder="Ù…Ø­Ù…Ø¯&#10;Ø®Ø§Ù„Ø¯&#10;Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ²"></textarea>
    <div style="margin-top:10px"><button class="btn" onclick="updateHonor()">Ø­ÙØ¸ Ù„ÙˆØ­Ø© Ø§Ù„Ø´Ø±Ù</button></div>
  </section>

  <section id="links" class="panel">
    <label>ğŸ“‹ Ø±Ø§Ø¨Ø· Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù‚Ø·Ø§Ø¹</label><input type="text" id="lnkTable" placeholder="https://...">
    <label>ğŸŒ´ Ø±Ø§Ø¨Ø· Ø­Ø¬Ø² Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª</label><input type="text" id="lnkVacation" placeholder="https://...">
    <label>âœ… Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ´ÙŠÙŠÙƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ</label><input type="text" id="lnkCheck" placeholder="https://...">
    <label>ğŸ” Ø±Ø§Ø¨Ø· ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†Ø§ÙˆØ¨Ø§Øª</label><input type="text" id="lnkSwap" placeholder="https://...">
    <label>ğŸ’¡ Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª</label><input type="text" id="lnkSuggest" placeholder="https://...">
    <div style="display:flex;gap:8px;margin-top:10px">
      <button class="btn" onclick="saveLinks()">Ø­ÙØ¸ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·</button>
    </div>
  </section>
</div>

<div id="gate">
  <div class="box">
    <div style="font-weight:800;margin-bottom:8px">Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</div>
    <input type="password" id="pwd" style="width:100%;padding:10px;border:1px solid var(--border);border-radius:10px">
    <div style="display:flex;gap:8px;margin-top:10px">
      <button class="btn" onclick="login()">Ø¯Ø®ÙˆÙ„</button>
      <button class="btn" onclick="cancel()">Ø¥Ù„ØºØ§Ø¡</button>
    </div>
    <div id="msg" style="color:#c62828;margin-top:8px;display:none">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©</div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
  const root = document.documentElement;
  const saved = localStorage.getItem('sector_theme') || 'light';
  if(saved==='dark'){ root.setAttribute('data-theme','dark'); document.getElementById('themeBtn').textContent='â˜€ï¸'; }
  document.getElementById('themeBtn').addEventListener('click',()=>{
    const isDark = root.getAttribute('data-theme')==='dark';
    root.setAttribute('data-theme', isDark? 'light':'dark');
    localStorage.setItem('sector_theme', isDark? 'light':'dark');
    document.getElementById('themeBtn').textContent = isDark ? 'ğŸŒ™' : 'â˜€ï¸';
  });

  function login(){
    const v = document.getElementById('pwd').value;
    if(v==='admin3838771'){ document.getElementById('gate').style.display='none'; document.getElementById('content').style.display='block'; }
    else { document.getElementById('msg').style.display='block'; }
  }
  function cancel(){ document.getElementById('pwd').value=''; }

  function openTab(id, btn){
    document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
  }

  const toast = (msg, cls='ok')=>{
    const el = document.getElementById('toast');
    el.textContent = msg; el.className = 'toast ' + cls; el.style.display='block';
    setTimeout(()=> el.style.display='none', 2600);
  };

  const SCRIPT_URL = "https://script.googleusercontent.com/macros/echo?user_content_key=AehSKLil22At5B1n_KCJrTXizMx_-2gO2oRXmXoFY69n30qssw3TxCc3zpKQx3vhPHQbsH5ngIrnOwPAHIFerMVkSkHJSunsT4mzUR7P4f3sg09MAQF9KapPcKQ3MQ1lCJ8ZNwaBLx4D0QNr20M72bN-XKGI9KBC-RPcUjLmzthP5hhDiHgo7ssfxuhEsketVelc_uGnsT87r7c3qCMMklPJ3xBnd6l-AknO6V3nSDl2L4dIJXUNM43iuB32e17hpmNY08Hfc1KhfnE1ERmUPD_zZGwcxK92f-v-YqbmTCjJ&lib=M6dwE7UlaQmbBMEakihoL5071_fspkL81";
  function confirmAnd(fn){ if(confirm('Ù‡Ù„ ØªØ±ØºØ¨ Ø¨Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø­ÙØ¸ØŸ')) fn(); }

  async function postJSON(payload){
    try {
      const r = await fetch(SCRIPT_URL, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload) });
      const t = await r.text(); toast('âœ… ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­');
    } catch(e) { toast('âŒ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„','err'); }
  }

  function addAnnouncement(){
    const text = document.getElementById('adText').value.trim();
    if(!text) return toast('âš ï¸ Ø§ÙƒØªØ¨ Ù†Øµ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø£ÙˆÙ„Ø§Ù‹','info');
    confirmAnd(()=> postJSON({sheet:'Ø¥Ø¹Ù„Ø§Ù†Ø§Øª', text}));
  }

  function updateHonor(){
    const center = document.getElementById('centerName').value.trim();
    const team = document.getElementById('teamName').value.trim();
    const members = document.getElementById('members').value.split('\n').map(s=>s.trim()).filter(Boolean);
    if(!center || !team || !members.length) return toast('âš ï¸ Ø£ÙƒÙ…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„','info');
    confirmAnd(()=> postJSON({sheet:'Ù„ÙˆØ­Ø© Ø§Ù„Ø´Ø±Ù', center, team, members}));
  }

  function saveLinks(){
    const table = document.getElementById('lnkTable').value.trim();
    const vacation = document.getElementById('lnkVacation').value.trim();
    const check = document.getElementById('lnkCheck').value.trim();
    const swap = document.getElementById('lnkSwap').value.trim();
    const suggestions = document.getElementById('lnkSuggest').value.trim();
    confirmAnd(()=> postJSON({sheet:'Ø±ÙˆØ§Ø¨Ø·', table, vacation, check, swap, announcements:'', suggestions}));
  }
</script>
</body>
</html>
